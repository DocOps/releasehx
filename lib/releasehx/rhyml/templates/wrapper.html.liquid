<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Release history and changelog">
  {% assign title = config.history.head | default: 'Release History' | escape %}
  <title>{{ title }}</title>
  
  {%- assign styling_mode = config.history.styling.mode | default: 'framework' %}
  {%- assign css_url = config.history.styling.css_url %}
  {%- assign embed_css = config.history.styling.embed_css | default: false %}
  {%- assign theme = config.history.styling.theme | default: 'default' %}
  
  {%- if styling_mode == 'external' and css_url %}
  <link rel="stylesheet" href="{{ css_url }}">
  {%- elsif styling_mode == 'framework' or styling_mode == 'embedded' %}
    {%- if framework == 'bootstrap' %}
    {%-   case framework_version %}
    {%-   when '5.3.0' %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    {%-   when '4.6.2' %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
    {%-   else %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@{{ framework_version }}/dist/css/bootstrap.min.css" rel="stylesheet">
    {%-   endcase %}
    {%- endif %}
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  {%- comment %}Load Bootstrap overrides (can be customized in _templates/bootstrap-overrides.css){%- endcomment %}
  <style>
    {% embed bootstrap-overrides.css %}
  </style>
  {%- endif %}
  
  {%- if styling_mode == 'embedded' or embed_css %}
  <style>
    {% embed embedded.css.liquid %}
  </style>
  {%- elsif styling_mode == 'minimal' %}
  <style>
    /* Minimal Styling Mode */
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      max-width: 1000px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    .release-section {
      margin-bottom: 3rem;
    }
    
    .changelog-section, .notes-section {
      margin-bottom: 2rem;
      padding-left: 1rem;
      border-left: 3px solid #ccc;
    }
    
    .release-note {
      margin-bottom: 1.5rem;
      padding: 1rem;
      border: 1px solid #eee;
    }
    
    .change-entry {
      margin-bottom: 0.75rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid #f0f0f0;
    }
  </style>
  {%- endif %}
</head>
<body>
  <div class="container-lg py-5">
    <article class="release-history">
      {{ content }}
    </article>
  </div>
  {%- if framework == 'bootstrap' %}
  {%-   case framework_version %}
  {%-   when '5.3.0' %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Auto-detect and apply Bootstrap 5 dark mode
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.setAttribute('data-bs-theme', 'dark');
    }
    // Listen for system theme changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      document.documentElement.setAttribute('data-bs-theme', e.matches ? 'dark' : 'light');
    });
  </script>
  {%-   when '4.6.2' %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  {%-   else %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@{{ framework_version }}/dist/js/bootstrap.bundle.min.js"></script>
  {%-   endcase %}
  {%- endif %}
</body>
</html>
